# git commit rule

## 规范来源、目的

- 在Commit Message增加提交类型（fix、feat、test等）和作用域（那个组件、哪个接口或哪个类），将使代码审查人员非常清晰的了解当次提交目的和范围

约定式提交规范由**Angular提交准则**发展而来，并在主流社区中得到了推广，有以下**优点**：

- 可读性好，清晰，不必深入看代码即可了解当前commit的作用。

- 为 Code Reviewing做准备

- 方便跟踪工程历史

- 让其他的开发者在运行 git blame（历史修改追踪）的时候更加清晰

- 提高项目的整体质量，提高个人工程素质

## commit message

**约定式提交规范结构：**

***<类型>（[可选的作用域]）：<描述>***

***[可选的正文]***

***[可选的脚注]***



<**类型**>是为了说明本次代码提交的意图，其可选值为：

| **类型** | **意图**                                               |
| -------- | ------------------------------------------------------ |
| feat     | 表示新增了一个功能                                     |
| fix      | 表示修复了一个 bug                                     |
| docs     | 表示只修改了文档                                       |
| style    | 表示修改格式、书写错误、空格等不影响代码逻辑的操作     |
| refactor | 表示修改的代码不是新增功能也不是修改 bug，比如代码重构 |
| perf     | 表示修改了提升性能的代码                               |
| test     | 表示修改了测试代码                                     |
| build    | 表示修改了编译配置文件                                 |
| chore    | 构建过程或辅助工具的变动                               |
| revert   | 回滚操作                                               |

**可选的作用域**：是为了描述此次commit影响的范围，比如: route, component, utils, build, api, website, docs；

**描述**：此次提交的简短描述

**可选的正文**： 此次提交的详细描述，描述为什么修改，做了什么样的修改，以及开发的思路等等

**可选的脚注**：主要写下面2种

- Breaking changes: 在可选的正文或脚注的起始位置带有 BREAKING CHANGE: 的提交，表示引入了破坏性变更；

- Closed issues: 罗列此次提交修复的 bug



### 约定式提交规范填写要求

1、每次代码提交都必须使用类型字段前缀规范描述，类型字段统一采用小写；

2、作用域、正文、脚注为可选字段，不做强制要求，但为了丰富当次代码提交的意图，建议根据实际情况加以描述；

3、按照规范格式顺序填写；

4、破坏性变更必须在提交的正文或脚注加以展示。一个破坏性变更必须包含大写的文本 BREAKING CHANGE，紧跟冒号和空格

5、每次使用git commit 的时候都需要写commit message

6、一处变更一次commit（谨防多处、多次修改堆积成一次commit提交，这对后期bug分析将是灾难）



### 示例

例1：只包含了作用域的提交说明（功能增加）

feat（pom）：在pom.xml添加maven plugin版本号



例2：只包含了作用域的提交说明（问题修复）

fix：更正LogConfigProperties配置未成功的异常捕捉



例3：带有简要描述，和详细描述以及本次修复的bug ID的提交说明

fix（common）：根据sonarlint的建议修改代码

此次主要修改common-log文件中类文件循环引用…

Closed issues：IB1000、IB1100…